<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Library calls analyser: src/Analyzer/Aggregator/Aggregator.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Library calls analyser
   </div>
   <div id="projectbrief">Dynamic analysis of library calls using</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_29fe482d0c5af5ffc30cc0fefd3e2dfa.html">Analyzer</a></li><li class="navelem"><a class="el" href="dir_0c2d4677b6f2c1c7aa0e9b51ac4ae8df.html">Aggregator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Aggregator.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Aggregator_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#ifndef AGGREGATOR_H_</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AGGREGATOR_H_</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GraphNode_8h.html" title="GraphNode class. ">Aggregator/GraphNode.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Call_8h.html" title="Call class. ">Call.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Trace_8h.html" title="Trace class. ">Trace.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JumpDetector_8h.html" title="JumpDetector class. ">JumpDetector.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="code" href="classAggregator.html">   37</a></span>&#160;<span class="keyword">class </span><a class="code" href="classAggregator.html" title="Aggregates calls from different runs of tested program into one graph. ">Aggregator</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <a class="code" href="classAggregator.html#ae5a9e9a251c03c7f42d6ed8d06f23304" title="Constructor with members initialization. Creates the first empty node in the graph, which represents starting point of the program. Also creates jumps detector with specified minimal subroutine size and opens output file. ">Aggregator</a>(<span class="keywordtype">unsigned</span> subroutineSize, std::string path);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <span class="keyword">virtual</span> <a class="code" href="classAggregator.html#a7d43c66b841c5e2f7a597eee0e0426e6" title="Default destructor. Destroys jump detector and all nodes in the graph. ">~Aggregator</a>();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#a16cab668a09b0570be053f5eaac45a77" title="Adds new node into the graph if it does not exist yet. First checks if current node (node that arrive...">newNode</a>(<a class="code" href="classCall.html" title="Call of a function in tested program. ">Call</a> *call);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#a21e8470129fe41e364745e6b4937426b" title="Tells aggregator a new run will begin with next call. Sets current node final and resets certain memb...">nextRun</a>();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#aceffd41c300655ef7468d94692408656" title="Checks if node has been inserted in the run. ">nodeInserted</a>();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ab22460b553c9289d4baa3a95451493a6" title="Creates output from graph for program dot. For every graph node, creates link to all its successors l...">drawGraph</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#a072faea696064073fdb01caecde7ba54" title="Creates output from graph in JSON syntax. Creates list of nodes and list of links between these nodes...">printJson</a>();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <span class="keywordtype">unsigned</span> <a class="code" href="classAggregator.html#a9892dc6f6801c08ed0da8c4ca2c1ed76" title="Gets the number of nodes in graph. ">nodesCount</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="code" href="classAggregator.html#a6107564cfeb060d925c104f82fb77678">   89</a></span>&#160;   std::vector&lt;GraphNode *&gt; <a class="code" href="classAggregator.html#a6107564cfeb060d925c104f82fb77678">graph</a>; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="classAggregator.html#ae76cb326462a57d61bc6c3288a7a9c88">   90</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="classAggregator.html#ae76cb326462a57d61bc6c3288a7a9c88">currentNode</a>; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="code" href="classAggregator.html#ab5970f2008e558fcb6f5e5c11dd5df0f">   91</a></span>&#160;   <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#ab5970f2008e558fcb6f5e5c11dd5df0f">_nodeInserted</a>; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="code" href="classAggregator.html#a05ec25a52f96c8b7b8566c107f8e87be">   92</a></span>&#160;   std::vector&lt;unsigned&gt; <a class="code" href="classAggregator.html#a05ec25a52f96c8b7b8566c107f8e87be">insertedNodes</a>; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="code" href="classAggregator.html#ae8da7421d0817fc5d677d1854f1aa054">   93</a></span>&#160;   <a class="code" href="classJumpDetector.html" title="Class serving for detecting jumps in the graph. ">JumpDetector</a> *<a class="code" href="classAggregator.html#ae8da7421d0817fc5d677d1854f1aa054">jumpDetector</a>; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="code" href="classAggregator.html#a9ce29b1b098c3f466ec32067c4824212">   94</a></span>&#160;   std::ofstream <a class="code" href="classAggregator.html#a9ce29b1b098c3f466ec32067c4824212">output</a>; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#a62c453f8ccead1488f5c86ffd02102dd" title="Deletes last inserted node from graph. ">deleteLastNode</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keywordtype">unsigned</span> <a class="code" href="classAggregator.html#a7dd0ace4f40c87b7ea3aaca7e7dcb700" title="Checks whether call exists in graph. Searches all successors of current call and compares them to the...">exists</a>(<a class="code" href="classCall.html" title="Call of a function in tested program. ">Call</a> *call);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <span class="keyword">virtual</span> std::string <a class="code" href="classAggregator.html#a8a200d5675ea07395c070bb50ce2d245" title="Converts call into its string representation. This method is used to decide which calls are same and ...">toString</a>(<a class="code" href="classCall.html" title="Call of a function in tested program. ">Call</a> *call);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   std::string <a class="code" href="classAggregator.html#a8a200d5675ea07395c070bb50ce2d245" title="Converts call into its string representation. This method is used to decide which calls are same and ...">toString</a>(<a class="code" href="classTrace.html" title="Trace in the tested program. ">Trace</a> *trace);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="code" href="classAggregator.html#a2e654e631fc402841b9521ccbb2b770f">  126</a></span>&#160;   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classJumpDetector.html" title="Class serving for detecting jumps in the graph. ">JumpDetector</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;};</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AGGREGATOR_H_ */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 18 2014 13:52:45 for Library calls analyser by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
